(this["webpackJsonpfruit-home"]=this["webpackJsonpfruit-home"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),c=r(6),s=r.n(c),o=(r(12),r(7)),a=r(3),j=r(2),u=r(0),d={fruits:[],error_fruits:"",pics:{},error_pics:"",isLoading_fruits:!0,isLoading_pics:!0},l=Object(n.createContext)(d),f=function(e,t){switch(t.type){case"GET_FRUIT":return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{isLoading_fruits:!1});case"GET_PICS":return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{isLoading_pics:!1});default:return e}},b=function(e){var t=e.children,r=Object(n.useContext)(l),i=Object(n.useReducer)(f,r),c=Object(a.a)(i,2),s=c[0],j=c[1];return Object(n.useEffect)((function(){fetch("https://www.fruityvice.com/api/fruit/all",{method:"GET",headers:{"content-type":"text/html;charset=UTF-8"}}).then((function(e){if(e.ok)return e;throw new Error("Error, Can not load fruits list.")})).then((function(e){return e.json()})).then((function(e){j({type:"GET_FRUIT",payload:{fruits:e,isLoading_fruits:!1,error_fruits:null}})})).catch((function(e){j({type:"GET_FRUIT",payload:{fruits:[],isLoading_fruits:!1,error_fruits:e.message}})})),fetch("https://passport-media.s3-us-west-1.amazonaws.com/images/eng-intern-interview/fruit-images.json",{}).then((function(e){if(e.ok)return e;throw new Error("Error, Can not load pictures of fruit.")})).then((function(e){return e.json()})).then((function(e){var t,r=new RegExp("([a-z]*)(?=.png$)"),n={},i=Object(o.a)(e);try{for(i.s();!(t=i.n()).done;){var c=t.value,s=r.exec(c)[0];s&&(n[s]=c)}}catch(a){i.e(a)}finally{i.f()}j({type:"GET_PICS",payload:{pics:n,isLoading_pics:!1,error_pics:null}})})).catch((function(e){j({type:"GET_PICS",payload:{pics:{},isLoading_pics:!1,error_pics:e.message}})}))}),[]),Object(u.jsx)(l.Provider,{value:s,children:t})},p=(r(14),function(){return Object(u.jsxs)("div",{className:"Loading",children:[Object(u.jsx)("img",{src:"/Fruits-Home/loading.gif"}),Object(u.jsx)("h1",{children:"Loading"})]})}),h=(r(15),function(e){var t=e.error_fruits,r=e.error_pics;return Object(u.jsxs)("div",{className:"Error",children:[Object(u.jsx)("h1",{children:"Sorry, something went wrong!"}),Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:t}),Object(u.jsx)("br",{}),Object(u.jsx)("h2",{children:r})]})}),O=(r(16),function(e){var t=e.setPopupTriger,r=e.trigger,n=(e.popupInfo,e.children);return r?Object(u.jsx)("div",{className:"popup",children:Object(u.jsxs)("div",{className:"popup-inner",children:[Object(u.jsx)("button",{className:"close-button",onClick:function(){t(!1)},children:"X"}),n]})}):""}),x=(r(17),function(e){var t=e.setPopupTriger,r=e.setPopupInfo,n=e.info,i=e.picture,c=n.name;return Object(u.jsxs)("div",{className:"card",onClick:function(){r(Object(j.a)(Object(j.a)({},n),{},{picture:i})),t(!0)},children:[Object(u.jsx)("img",{src:i,alt:c,className:"card_img"}),Object(u.jsx)("div",{className:"card_info",children:Object(u.jsx)("button",{children:c})})]})}),m=(r(18),r(19),function(e){var t=e.nutritions;return Object(u.jsxs)("div",{className:"nutrition-facts",children:[Object(u.jsx)("div",{className:"nutrition-facts-title",children:Object(u.jsx)("h1",{children:"Nutrition Facts"})}),Object(u.jsx)("table",{className:"nutrition-facts-table",children:Object(u.jsx)("tbody",{children:Object.keys(t).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{colSpan:"2",children:Object(u.jsx)("b",{children:e})}),Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:t[e]})})]},e)}))})})]})}),g=function(e){var t=e.info;return Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsxs)("div",{className:"info-left",children:[Object(u.jsx)("h1",{children:t.name}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{src:t.picture,alt:t.name,className:"info-img"})]}),Object(u.jsxs)("div",{className:"info-right",children:[Object(u.jsxs)("div",{className:"info-information",children:[t.genus&&Object(u.jsxs)("p",{children:["GENUS: ",t.genus]}),t.family&&Object(u.jsxs)("p",{children:["FAMILY: ",t.family]}),t.order&&Object(u.jsxs)("p",{children:["ORDER: ",t.order]})]}),Object(u.jsx)("div",{className:"info-nutritions",children:Object(u.jsx)(m,{nutritions:t.nutritions})})]})]})},v=(r(20),function(){var e=Object(n.useContext)(l),t=e.fruits,r=e.error_fruits,c=e.pics,s=e.error_pics,o=e.isLoading_fruits,j=e.isLoading_pics,d=Object(n.useState)(!1),f=Object(a.a)(d,2),b=f[0],m=f[1],v=Object(n.useState)({}),_=Object(a.a)(v,2),y=_[0],N=_[1];return Object(u.jsx)(i.a.Fragment,{children:o||j?Object(u.jsx)(p,{}):r||s?Object(u.jsx)(h,{error_fruits:r,error_pics:s}):Object(u.jsxs)("div",{className:"container",children:[t.map((function(e){return Object(u.jsx)(x,{setPopupTriger:m,setPopupInfo:N,info:e,picture:c[e.name.toLowerCase()]?c[e.name.toLowerCase()]:"./default-fruit.jpg"},e.id)})),Object(u.jsx)(O,{trigger:b,setPopupTriger:m,popupInfo:y,children:Object(u.jsx)(g,{info:y})})]})})});var _=function(){return Object(u.jsx)(b,{children:Object(u.jsx)(v,{})})};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.fcba7005.chunk.js.map